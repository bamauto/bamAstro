---
import { PageLayout, LocalBusinessSchema } from '@bamastro/ui';
import { region } from '@/config/region';

export function getStaticPaths() {
  return [
    { params: { region: region.id } },
  ];
}

const { region: regionId } = Astro.params;
const venueType = region.venueTypes.find(v => v.id === 'hyperpub');

if (!venueType) {
  throw new Error(`Venue type 'hyperpub' not found in region config`);
}

const seoProps = {
  title: `${region.name} 하이퍼블릭 예약·가격 | ${region.landmarks.join('·')} 추천`,
  description: venueType.description,
  keywords: venueType.keywords,
};
---

<PageLayout {...seoProps} region={region}>
  <LocalBusinessSchema region={region} />
  
  <div class="py-12">
    <!-- Header -->
    <div class="mb-12 text-center animate-fade-in-up">
      <span class="inline-block px-3 py-1 rounded-full bg-indigo-500/10 text-indigo-300 text-sm font-medium mb-4 border border-indigo-500/20">
        Premium Lounge
      </span>
      <h1 class="text-4xl lg:text-5xl font-bold text-white mb-4">
        {venueType.name} <span class="text-gradient">Guide</span>
      </h1>
      <p class="text-xl text-slate-400">
        {venueType.subtitle}
      </p>
    </div>

    <div class="grid lg:grid-cols-3 gap-10">
      <!-- Main Content -->
      <div class="lg:col-span-2 space-y-12">
        <section class="glass p-8 rounded-2xl animate-fade-in-up delay-100">
          <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-3">
            <span class="w-1 h-8 bg-indigo-500 rounded-full"></span>
            Overview
          </h2>
          <div class="prose prose-invert prose-lg max-w-none text-slate-300">
            <p>{venueType.description}</p>
            <p>
              최고의 시설과 검증된 매니저들이 제공하는 프리미엄 서비스를 경험해보세요.
              프라이빗한 공간에서 즐기는 격조 높은 파티가 준비되어 있습니다.
            </p>
          </div>
        </section>

        <section class="glass p-8 rounded-2xl animate-fade-in-up delay-200">
          <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-3">
            <span class="w-1 h-8 bg-purple-500 rounded-full"></span>
            System Guide
          </h2>
          <div class="grid md:grid-cols-2 gap-6">
            <div class="bg-white/5 p-6 rounded-xl border border-white/5">
              <h3 class="text-lg font-bold text-white mb-2">프라이빗 룸</h3>
              <p class="text-sm text-slate-400">외부와 완벽히 차단된 고급스러운 인테리어의 프라이빗 룸 완비</p>
            </div>
            <div class="bg-white/5 p-6 rounded-xl border border-white/5">
              <h3 class="text-lg font-bold text-white mb-2">초이스 시스템</h3>
              <p class="text-sm text-slate-400">고객님의 취향을 고려한 1:1 맞춤형 매니저 매칭 서비스</p>
            </div>
            <div class="bg-white/5 p-6 rounded-xl border border-white/5">
              <h3 class="text-lg font-bold text-white mb-2">주류 및 안주</h3>
              <p class="text-sm text-slate-400">엄선된 고급 양주와 호텔 셰프급 안주 서비스 제공</p>
            </div>
            <div class="bg-white/5 p-6 rounded-xl border border-white/5">
              <h3 class="text-lg font-bold text-white mb-2">VIP 케어</h3>
              <p class="text-sm text-slate-400">담당 실장의 1:1 밀착 케어로 불편함 없는 술자리 보장</p>
            </div>
          </div>
        </section>
      </div>

      <!-- Sidebar -->
      <div class="space-y-6 lg:sticky lg:top-24 h-fit animate-fade-in-up delay-300">
        <div class="glass p-6 rounded-2xl border border-indigo-500/30 shadow-[0_0_30px_rgba(99,102,241,0.1)]">
          <h3 class="text-xl font-bold text-white mb-6 text-center">Price Info</h3>
          <div class="space-y-4 mb-8">
            <div class="flex justify-between items-center pb-4 border-b border-white/5">
              <span class="text-slate-400">기본 주대</span>
              <span class="text-lg font-bold text-white">{venueType.minPrice.toLocaleString()}<span class="text-xs font-normal text-slate-500 ml-1">원~</span></span>
            </div>
            <div class="flex justify-between items-center pb-4 border-b border-white/5">
              <span class="text-slate-400">TC (시간당)</span>
              <span class="text-lg font-bold text-white">130,000<span class="text-xs font-normal text-slate-500 ml-1">원</span></span>
            </div>
            <div class="flex justify-between items-center pb-4 border-b border-white/5">
              <span class="text-slate-400">룸비</span>
              <span class="text-lg font-bold text-white">50,000<span class="text-xs font-normal text-slate-500 ml-1">원</span></span>
            </div>
          </div>
          
          <div class="space-y-3">
            <a href={`tel:${region.phone}`} class="btn-primary w-full group">
              <span class="relative z-10">전화 예약하기</span>
            </a>
            <a href={region.kakaoLink} target="_blank" class="btn-secondary w-full text-center block">
              카카오톡 문의
            </a>
          </div>
          <p class="text-xs text-center text-slate-500 mt-4">
            * 상황에 따라 가격이 변동될 수 있습니다.
          </p>
        </div>

        <div class="bg-slate-900/50 p-6 rounded-2xl border border-white/5">
          <div class="flex items-start gap-4">
            <div class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center flex-shrink-0 text-2xl">
              📢
            </div>
            <div>
              <h4 class="font-bold text-white text-sm mb-1">이용 꿀팁</h4>
              <p class="text-xs text-slate-400 leading-relaxed">
                오후 8시 이전 방문 시 특별 할인 혜택이 적용됩니다. 방문 전 꼭 담당 실장에게 문의해주세요.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</PageLayout>
