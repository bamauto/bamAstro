/**
 * 동탄 블로그 포스트 생성 스크립트
 *
 * 수원 포스트를 기반으로 동탄 특화 콘텐츠로 변환 생성
 *
 * 실행 방법:
 * 1. 미리보기: npx tsx scripts/create-dongtan-posts.ts
 * 2. 실제 적용: APPLY=true npx tsx scripts/create-dongtan-posts.ts
 */

import { createClient } from '@supabase/supabase-js';

const supabaseUrl = 'https://rrzeapykmyrsiqmkwjcf.supabase.co';
const supabaseKey = 'sb_publishable_PURbxvJKEEW_JSuH4NLHqQ_4QXKY71W';

const supabase = createClient(supabaseUrl, supabaseKey);

// 동탄 지역 정보
const DONGTAN_INFO = {
  name: '동탄',
  area: '동탄역',
  station: '동탄역',
  fullName: '화성시 동탄',
  landmarks: ['메타폴리스', '동탄 센트럴파크', '동탄호수공원', '동탄테크노밸리'],
  companies: ['삼성전자 동탄캠퍼스', '한미약품', '동탄테크노밸리 IT기업'],
  transport: 'SRT 동탄역에서 서울 수서역까지 20분, 부산까지 2시간'
};

// 카테고리별 동탄 특화 제목 템플릿
const TITLE_TEMPLATES: Record<string, string[]> = {
  '가라오케': [
    '동탄 가라오케 완벽 가이드 2026 | SRT 동탄역 베스트 추천',
    '동탄역 가라오케 추천 BEST 5 | 신도시 프리미엄 노래방',
    '동탄 가라오케 가격 및 시스템 안내 | 2026년 최신 정보',
    '동탄2신도시 가라오케 이용 꿀팁 | 회식 장소로 인기인 이유',
    '메타폴리스 인근 가라오케 솔직 후기 | 분위기·서비스·가격 비교',
    '동탄 프리미엄 가라오케란? | 신도시 특화 서비스 완벽 정리',
    '동탄역 가라오케 첫 방문 가이드 | 예약부터 이용까지',
    '동탄 직장인 회식 2차 장소 베스트 | 가라오케 추천',
    '삼성전자 동탄 회식 추천 | 가라오케 이용 가이드',
    '동탄 가라오케 야간 이용 안내 | 영업시간과 주의사항'
  ],
  '하이퍼블릭': [
    '동탄 하이퍼블릭 완벽 정리 2026 | 시스템·가격·후기 총정리',
    '하이퍼블릭이란? 동탄 하이퍼블릭 이용 완벽 가이드',
    '동탄 하이퍼블릭 vs 퍼블릭 | 차이점과 선택 기준 비교',
    '동탄역 하이퍼블릭 가격 안내 | 주대와 TC 시스템 설명',
    '동탄 하이퍼블릭 실제 후기 | 방문 경험과 솔직 평가',
    '동탄2신도시 하이퍼블릭 추천 | 분위기 좋은 곳 엄선',
    '동탄 하이퍼블릭 첫 방문 가이드 | 알아야 할 모든 것',
    '하이퍼블릭 뜻과 시스템 설명 | 동탄 지역 이용 꿀팁',
    '동탄역 하이퍼블릭 예약 방법 안내 | 전화 예약부터 방문까지',
    '동탄 하이퍼블릭 vs 셔츠룸 | 나에게 맞는 곳 선택'
  ],
  '셔츠룸': [
    '동탄 셔츠룸 완벽 가이드 2026 | 시스템과 가격 총정리',
    '동탄 셔츠룸이란? 하이퍼블릭과의 차이점 완벽 비교',
    '동탄역 셔츠룸 가격 안내 | 2026년 최신 정보',
    '동탄 셔츠룸 실제 후기 | 첫 방문자 필수 정보',
    '동탄2신도시 셔츠룸 추천 베스트 | 분위기 좋은 곳',
    '동탄 셔츠룸 예약 방법과 이용 꿀팁 | 완벽 가이드',
    '동탄 셔츠룸 vs 하이퍼블릭 | 선택 가이드',
    '동탄역 셔츠룸 시스템 상세 설명 | 초보자 가이드',
    '삼성전자 동탄 회식 셔츠룸 추천 | 편안한 분위기',
    '동탄 셔츠룸 영업시간 안내 | 야간 이용 방법'
  ],
  '룸살롱': [
    '동탄 룸살롱 완벽 가이드 2026 | 시스템과 에티켓 총정리',
    '동탄역 룸살롱 가격 안내 | 주대와 TC 비용 정보',
    '동탄 룸살롱 첫 방문 가이드 | 알아야 할 모든 것',
    '동탄2신도시 룸살롱 추천 | 비즈니스 접대 장소',
    '동탄 룸살롱 후기 분석 | 서비스 품질과 분위기 비교',
    '동탄역 룸살롱 예약 방법 안내 | 전화 예약 팁',
    '동탄 룸살롱 드레스코드 안내 | 방문 전 체크리스트',
    '동탄 VIP 룸살롱 추천 | 프리미엄 접대 장소',
    '삼성전자 동탄 거래처 접대 | 룸살롱 가이드',
    '동탄 룸살롱 영업시간 안내 | 예약 가능 시간대'
  ],
  '기모노룸': [
    '동탄 기모노룸 완벽 가이드 | 일본식 서비스의 정수',
    '동탄 기모노룸이란? 시스템과 가격 완벽 총정리 2026',
    '동탄역 기모노룸 가격 안내 | 2026년 최신 정보',
    '동탄 기모노룸 실제 후기 | 특별한 경험담과 리뷰',
    '동탄2신도시 기모노룸 추천 | 품격 있는 접대 장소',
    '동탄 기모노룸 예약 안내 | 방문 전 필수 정보',
    '동탄 기모노룸 서비스 소개 | 일반 룸살롱과 차이',
    '동탄역 기모노룸 분위기 리뷰 | 일본식 인테리어 매력',
    '동탄 기모노룸 이용 에티켓 | 첫 방문자 가이드',
    '동탄 프리미엄 기모노룸 | VIP 서비스와 특별한 경험'
  ],
  '호빠': [
    '동탄 호빠 완벽 가이드 2026 | 시스템과 이용 방법 총정리',
    '동탄 호빠란? 초보자를 위한 상세 설명 가이드',
    '동탄역 호빠 가격 안내 | 주대와 시스템 비용 정보',
    '동탄 호빠 실제 후기 | 방문 경험담과 솔직 리뷰',
    '동탄2신도시 호빠 추천 베스트 | 여성들에게 인기 리스트',
    '동탄 호빠 예약 방법 안내 | 첫 방문을 위한 팁',
    '동탄역 호빠 호스트 선택 가이드 | 어떻게 해야 할까',
    '동탄 호빠 이용 꿀팁 모음 | 즐거운 시간을 위한 가이드',
    '동탄 호빠 영업시간 안내 | 언제 방문하면 좋을까',
    '동탄 호빠 안전 이용 가이드 | 여성 전용 공간 소개'
  ]
};

// 동탄 특화 콘텐츠 생성 함수
function generateDongtanContent(category: string, index: number): { title: string; content: string; excerpt: string } {
  const titles = TITLE_TEMPLATES[category] || TITLE_TEMPLATES['가라오케'];
  const title = titles[index % titles.length];

  const content = generateCategoryContent(category, index);
  const excerpt = content.split('\n')[0].substring(0, 150) + '...';

  return { title, content, excerpt };
}

function generateCategoryContent(category: string, index: number): string {
  const baseContent: Record<string, string> = {
    '가라오케': `동탄역에서 프리미엄 가라오케를 찾고 계신가요? 동탄2신도시는 SRT 동탄역을 중심으로 현대적인 유흥 문화가 형성된 지역입니다. 삼성전자 동탄캠퍼스 임직원, 동탄테크노밸리 IT기업 종사자들이 주요 고객층을 형성하고 있습니다.

## 동탄 가라오케 시스템 안내

동탄 가라오케는 신도시 특유의 현대적이고 깔끔한 시설이 특징입니다. 예약 후 방문하면 프라이빗 룸으로 안내받고, 전담 매니저가 배정됩니다. 최신 음향 장비와 럭셔리 인테리어를 갖추고 있어 분당·강남 수준의 서비스를 제공합니다.

메타폴리스 쇼핑몰 저녁 식사 후 2차 코스로 많이 이용되며, 파티룸부터 VIP룸까지 다양한 규모의 공간을 보유하고 있습니다. 법인카드 결제와 영수증 처리가 깔끔해 기업 회식에 적합합니다.

## 동탄 가라오케 가격 정보

동탄 가라오케 가격은 1인당 15만원에서 25만원 선입니다. 신도시 프리미엄 상권으로 분당과 유사한 가격대를 형성하고 있으며, 강남 대비 10~20% 합리적입니다. 기본 세트에는 주류, 안주, 2시간 이용료가 포함됩니다.

## 동탄 가라오케 이용 꿀팁

- SRT 동탄역 도보 10분 거리에 주요 업소가 밀집
- 메타폴리스 지하주차장 이용 시 주차 편리
- 평일 저녁 7시~11시가 가장 활발한 시간대
- 금요일 저녁이 주간 최고 성수기
- 단체 예약 시 할인 혜택 제공

## 자주 묻는 질문

**Q. 동탄역에서 픽업 가능한가요?**
A. 네, SRT 동탄역 출구에서 픽업 가능합니다. 예약 시 출구 번호를 말씀해주세요.

**Q. 주차 가능한 곳이 있나요?**
A. 메타폴리스 지하주차장 및 업소 제휴 주차장 이용 가능합니다.

**Q. 법인카드 결제 가능한가요?**
A. 네, 대부분의 업장에서 법인카드 결제와 영수증 처리가 가능합니다.`,

    '하이퍼블릭': `동탄 하이퍼블릭에 대해 알아보고 계신가요? 하이퍼블릭은 일반 퍼블릭보다 업그레이드된 프리미엄 서비스를 제공하는 공간입니다. 동탄2신도시의 현대적인 분위기와 어울리는 세련된 시설이 특징입니다.

## 하이퍼블릭이란?

하이퍼블릭은 'Hyper + Public'의 합성어로, 기존 퍼블릭 가라오케보다 향상된 서비스를 제공합니다. 매니저의 서비스 퀄리티, 인테리어, 음향 시설 모든 면에서 한 단계 위의 경험을 제공합니다. 동탄의 하이퍼블릭은 신도시 특유의 현대적이고 세련된 인테리어를 갖추고 있습니다.

## 동탄 하이퍼블릭 시스템

동탄역 상권 중심부에 위치한 하이퍼블릭은 삼성전자 동탄캠퍼스 임직원과 테크노밸리 IT기업인들의 비즈니스 접대 장소로 각광받습니다. 프라이빗한 룸 구조로 중요한 미팅에도 적합하며, 최첨단 음향·조명 시스템과 고급 주류 라인업을 갖추고 있습니다.

## 동탄 하이퍼블릭 가격

동탄 하이퍼블릭 가격은 1인당 20만원에서 35만원 선입니다. 분당·강남 수준의 서비스를 제공하면서도 경쟁력 있는 가격으로 높은 만족도를 자랑합니다.

## 퍼블릭 vs 하이퍼블릭 비교

| 구분 | 퍼블릭 | 하이퍼블릭 |
|------|--------|------------|
| 가격대 | 1인 12-18만원 | 1인 20-35만원 |
| 매니저 수준 | 일반 | 프리미엄 |
| 인테리어 | 기본 | 고급/세련된 |
| 음향/조명 | 보통 | 최상급 |

## 이용 꿀팁

- SRT 동탄역 도보 10분 거리로 전국 접근성 우수
- 예약 필수, 인기 매니저는 빨리 예약 마감
- 예산 미리 말씀하면 맞춤 패키지 안내
- 법인카드 결제 가능`,

    '셔츠룸': `동탄 셔츠룸을 찾고 계신가요? 셔츠룸은 하이퍼블릭이나 룸살롱보다 캐주얼한 분위기에서 부담 없이 즐길 수 있는 공간입니다. 동탄2신도시의 IT기업 직장인들이 가벼운 회식과 네트워킹 장소로 많이 이용합니다.

## 셔츠룸이란?

셔츠룸은 매니저가 셔츠 차림으로 서비스하는 공간입니다. 화려한 드레스 대신 깔끔한 셔츠 스타일로 보다 편안하고 자연스러운 분위기를 연출합니다. 가격도 다른 업종 대비 합리적이어서 부담 없이 방문할 수 있습니다.

## 동탄 셔츠룸 시스템

동탄2신도시의 셔츠룸은 신도시 직장인들의 가벼운 회식과 네트워킹 장소로 인기가 높습니다. IT기업과 스타트업 종사자들이 선호하는 캐주얼하면서도 세련된 분위기가 특징입니다. 메타폴리스 연계 식사·유흥 패키지로 원스톱 코스 이용이 가능합니다.

## 동탄 셔츠룸 가격

동탄 셔츠룸 가격은 1인당 15만원에서 22만원 선입니다. 기본 세트에 주류와 안주가 포함되어 있어 추가 비용 부담이 적습니다.

## 하이퍼블릭 vs 셔츠룸 비교

| 구분 | 셔츠룸 | 하이퍼블릭 |
|------|--------|------------|
| 가격대 | 1인 15-22만원 | 1인 20-35만원 |
| 분위기 | 캐주얼/편안한 | 세련된/프리미엄 |
| 매니저 복장 | 셔츠 | 다양한 컨셉 |

## 이용 꿀팁

- 예약 후 방문 시 대기 없이 바로 입장
- 예산 미리 말씀하면 맞춤 세트 추천
- 30~40대 고객층 만족도 높음
- 노래 없이 대화만으로도 즐거운 시간`,

    '룸살롱': `동탄 룸살롱에 대해 알아보고 계신가요? 룸살롱은 격식 있는 접대나 중요한 비즈니스 자리에서 많이 이용되는 프리미엄 유흥 업종입니다. 동탄2신도시에는 삼성전자 임원급과 테크노밸리 대표들이 이용하는 고급 룸살롱이 운영되고 있습니다.

## 동탄 룸살롱 시스템

동탄 비즈니스 접대의 정점인 룸살롱은 중요한 거래처 미팅 장소로 각광받습니다. 신도시 프리미엄 상권에 걸맞은 고급스러운 인테리어와 숙련된 서비스진이 특징입니다. VIP 전용 룸과 프라이버시 보호 시스템이 잘 갖춰져 있어 민감한 비즈니스 논의에도 적합합니다.

## 동탄 룸살롱 가격

동탄 룸살롱 가격은 1인당 30만원에서 50만원 이상입니다. 분당·강남급의 품격 있는 접대가 가능하며, 법인카드 결제와 영수증 처리가 원활합니다.

## 룸살롱 이용 에티켓

- 정장이나 비즈니스 캐주얼 권장
- 예약제 운영, 미리 연락 필수
- 매니저에 대한 존중 중요
- 과도한 신체 접촉 자제

## SRT 동탄역 접근성

SRT 동탄역 인접으로 전국에서 오는 거래처 손님을 모시기에 최적의 위치입니다. 서울 수서역까지 20분, 부산까지 2시간으로 전국 최고 수준의 접근성을 자랑합니다.`,

    '기모노룸': `동탄에서 특별한 경험을 찾고 계신가요? 기모노룸은 일본식 서비스를 경험할 수 있는 독특한 프리미엄 업종입니다. 신도시의 현대적 감성에 일본식 전통 테마를 접목한 이색 체험 공간입니다.

## 기모노룸이란?

기모노룸은 일본식 룸살롱 컨셉의 업종입니다. 매니저들이 전통 기모노나 유카타를 입고 서비스하며, 인테리어도 일본식으로 꾸며져 있습니다. 해외 출장이 잦은 삼성전자·IT기업 임직원들에게 특별한 문화 체험을 제공합니다.

## 동탄 기모노룸 특징

동탄의 기모노룸은 SNS 인증샷 명소로도 알려져 있습니다. 기모노 의상을 착용한 서비스와 정통 일본식 인테리어로 이국적 분위기를 연출하면서도, 신도시 특유의 깔끔한 시설 관리가 강점입니다.

## 동탄 기모노룸 가격

동탄 기모노룸 가격은 1인당 35만원에서 60만원 선입니다. 프리미엄 사케 선택, 풀코스 서비스, VIP 룸 이용 등에 따라 추가 비용이 발생합니다.

## 이용 꿀팁

- 완전 예약제 운영, 미리 연락 필수
- 일본 문화에 관심 있으면 더 즐거움
- 정장이나 비즈니스 캐주얼 권장
- 동탄호수공원 산책 후 2차 코스로 인기`,

    '호빠': `동탄 호빠에 대해 궁금하신가요? 호빠는 여성 고객을 위한 유흥 업종으로, 동탄 신도시 여성 고객들을 위한 안전하고 프라이빗한 공간입니다. 테크노밸리 여성 임원, 제약·바이오 기업 연구원, 신도시 거주 전문직 여성들이 주요 고객층입니다.

## 호빠란?

호빠는 '호스트바'의 줄임말로, 여성 고객을 대상으로 남성 호스트가 서비스하는 업종입니다. 노래, 대화, 게임 등을 함께 즐기며 즐거운 시간을 보낼 수 있습니다.

## 동탄 호빠 특징

동탄 호빠는 세련된 호스트들의 매너 있는 서비스가 특징입니다. 신도시 특성상 개인 프라이버시 보호에 철저하며, 혼자 방문하는 고객도 편안하게 이용할 수 있습니다. 여성 전용 안전 시스템과 맞춤형 서비스로 높은 재방문율을 자랑합니다.

## 동탄 호빠 가격

동탄 호빠 가격은 1인당 15만원에서 25만원 선입니다. 호스트 지명비, 프리미엄 주류, 시간 연장 등에 따라 추가 비용이 발생합니다.

## 안전하게 즐기는 방법

- 검증된 업장 선택
- 지인과 함께 방문 권장
- 택시 호출, 안전귀가 서비스 제공
- CCTV 설치된 곳 대부분`
  };

  return baseContent[category] || baseContent['가라오케'];
}

// 슬러그 생성 함수
function generateSlug(category: string, index: number): string {
  const categorySlug: Record<string, string> = {
    '가라오케': 'dongtan-karaoke',
    '하이퍼블릭': 'dongtan-hyperpublic',
    '셔츠룸': 'dongtan-shirtsroom',
    '룸살롱': 'dongtan-roomsalon',
    '기모노룸': 'dongtan-kimonoroom',
    '호빠': 'dongtan-hostbar'
  };

  const base = categorySlug[category] || 'dongtan-guide';
  return `${base}-${String(index + 1).padStart(3, '0')}`;
}

async function main() {
  const applyChanges = process.env.APPLY === 'true';

  console.log('=== 동탄 블로그 포스트 생성 스크립트 ===\n');
  console.log(applyChanges ? '🔴 실제 적용 모드' : '🟡 미리보기 모드');
  console.log('');

  const categories = ['가라오케', '하이퍼블릭', '셔츠룸', '룸살롱', '기모노룸', '호빠'];
  const postsPerCategory = 10;
  const posts: any[] = [];

  // 포스트 생성
  for (const category of categories) {
    for (let i = 0; i < postsPerCategory; i++) {
      const { title, content, excerpt } = generateDongtanContent(category, i);
      const slug = generateSlug(category, i);

      posts.push({
        title,
        slug,
        content,
        excerpt,
        category,
        region: 'dongtan',
        status: 'published',
        featured: i === 0,
        read_time: `${Math.ceil(content.length / 500)}분`,
        gradient: 'from-purple-600 to-fuchsia-600',
        published_at: new Date().toISOString(),
        created_at: new Date().toISOString(),
        updated_at: new Date().toISOString()
      });
    }
  }

  console.log(`📊 생성할 포스트: ${posts.length}개\n`);

  // 미리보기 출력
  console.log('=== 샘플 미리보기 (카테고리별 첫 번째) ===\n');

  for (const category of categories) {
    const sample = posts.find(p => p.category === category);
    if (sample) {
      console.log(`[${category}]`);
      console.log(`  제목: ${sample.title}`);
      console.log(`  슬러그: ${sample.slug}`);
      console.log(`  요약: ${sample.excerpt.substring(0, 60)}...`);
      console.log('');
    }
  }

  if (!applyChanges) {
    console.log('⚠️  미리보기 모드입니다.');
    console.log('실제 적용하려면: APPLY=true npx tsx scripts/create-dongtan-posts.ts');
    return;
  }

  // 실제 적용
  console.log('=== 데이터베이스 삽입 시작 ===\n');

  const { data, error } = await supabase
    .from('bamastro_blog_posts')
    .insert(posts)
    .select();

  if (error) {
    console.error('❌ 삽입 오류:', error.message);
    return;
  }

  console.log(`✅ ${data.length}개 포스트 생성 완료!`);
  console.log('\n=== 완료 ===');
}

main().catch(console.error);
