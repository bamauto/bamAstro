---
import { PageLayout, LocalBusinessSchema, OrganizationSchema, HeroSection, FeaturesSection, GallerySection, IntroSection, AnalysisSection, HotEventSection, BlogSection, VenuePreviewSection, FAQSection, GuideSection } from '@bamastro/ui';
import { region } from '@/config/region';
import { getBlogPosts } from '@/lib/supabase';

// SEO 최적화된 메타 태그 (Title: 50-60자, Description: 150-160자)
const seoProps = {
  title: region.seo.homeTitle || `${region.name} 유흥 완벽 가이드 | 가라오케·하이퍼블릭·셔츠룸 추천 | 서우실장`,
  description: region.seo.homeDescription || `${region.nearbyStations.slice(0,2).join('·')} 최고급 가라오케·하이퍼블릭 완벽 가이드. 2026년 최신 가격, 프로 에티켓, 추천 업소 총정리. 회식·데이트·비즈니스 전문. ★ 서우실장 무료 상담`,
  keywords: [
    `${region.name} 가라오케`,
    `${region.name} 유흥`,
    `${region.name} 하이퍼블릭`,
    `${region.name} 가라오케 예약`,
    `${region.name} 가라오케 가격`,
    `${region.nearbyStations[0]} 가라오케`,
    `${region.nearbyStations[0]} 유흥`,
    ...(region.seo.longTailKeywords?.slice(0, 3) || []),
  ],
};

// Fetch blog posts from Supabase (images are embedded in posts)
const blogPosts = await getBlogPosts();
---

<PageLayout {...seoProps} region={region}>
  <LocalBusinessSchema region={region} />
  <OrganizationSchema region={region} />

  <HeroSection region={region} />
  <FeaturesSection />
  <GallerySection />
  <IntroSection region={region} />
  <AnalysisSection regionName={region.name} regionId={region.id} stations={region.nearbyStations} landmarks={region.landmarks} />
  <HotEventSection />
  <BlogSection posts={blogPosts} />
  <VenuePreviewSection region={region} />
  <FAQSection region={region} />
  <GuideSection region={region} />
</PageLayout>
